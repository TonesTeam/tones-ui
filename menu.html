<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>A Basic HTML5 Template</title>
    <link rel="stylesheet" href="navbar.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/e0841da107.js" crossorigin="anonymous"></script>

</head>

<body>
    <div id="navbar" class="sidenav">
        <button class="openbtn" onclick="openNav()">&#9776;</button>
        <div id="upper-nav">
            <div class="side">
                <button class="closebtn" onclick="closeNav()">&times;</button>
            </div>
        </div>

        <div class="user-prof">
            <span class="fas fa-user"></span>
            <div>Test Username</div>
        </div>

        <div id="navbar-menu">

            <a id="selected-navbar-item" href="#">
                <div class="nav-item">
                    <span class="fas fa-list"></span>
                    <div>Protocol List</div>
                </div>
            </a>

            <a href="#">
                <div class="nav-item">
                    <span class="fas fa-edit"></span>
                    <div>Create Protocol</div>
                </div>
            </a>

            <a href="#">
                <div class="nav-item">
                    <span class="fas fa-history"></span>
                    <div>History</div>
                </div>
            </a>

            <a href="#">
                <div class="nav-item">
                    <span class="fas fa-user-cog"></span>
                    <div>Profile Settings</div>
                </div>
            </a>

            <a href="#">
                <div class="nav-item">
                    <span class="fas fa-cogs"></span>
                    <div>System Settings</div>
                </div>
            </a>

            <a href="#">
                <div class="nav-item">
                    <span class="fas fa-file"></span>
                    <div>Reports</div>
                </div>
            </a>

            <a href="#">
                <div class="nav-item" class="btn">
                    <span class="fas fa-sign-out-alt"></span>
                    <div>Log out</div>
                </div>
            </a>

            <!-- <a href="#">
                <div id="nav-item" class="btn">
                    <button>Leave System</button>
                </div>
            </a> -->

        </div>
    </div>
    <div id="main">
        <a href="protocol-list.html" onclick="window.open('protocol-list.html', 'myWin', 'toolbar=no, directories=no, location=no, status=yes, menubar=no, resizable=no, scrollbars=yes, width=1024, height=768'); return false">
            Open Protocol List</a>
    </div>

    <script>
        const width = getComputedStyle(document.documentElement).getPropertyValue('--navbar-width');
        const fontSize = getComputedStyle(document.documentElement).getPropertyValue('--navbar-font-size');
        const linkPadding = $("#navbar-menu a").css("padding");
        const linkJustify = $("#navbar-menu a").css("justify-content");
        //Navigation bar opening-closing
        function openNav() {
            $(".openbtn").hide()
            $(".closebtn").show()

            $("#navbar").css("font-size", fontSize);
            $("#navbar-menu a").width(width).css("padding", linkPadding).css("justify-content", linkJustify);
            $("#navbar-menu a").get().forEach(el => $(el).css("width", "100%"));
            $("#navbar-menu a .nav-item").get().forEach(el => $(el).width("auto"));
            $(".user-prof").show();
            $(".nav-item>div").show();

            document.getElementById("navbar").style.width = width;
            document.getElementById("main").style.marginLeft = width;
        }

        function closeNav() {
            $(".openbtn").show()
            $(".closebtn").hide()
            $("#navbar").css("font-size", "1.5em");
            $(".user-prof").hide(500);
            $(".nav-item>div").hide(500);
            $("#navbar-menu a").width(75).css("padding", "0").css("justify-content", "center");
            $("#navbar-menu a .nav-item").width($("#navbar-menu a .nav-item span").width() + 10)
            document.getElementById("navbar").style.width = "75px";
            document.getElementById("main").style.marginLeft = "75px";
        }
        openNav()
    </script>
</body>

</html>